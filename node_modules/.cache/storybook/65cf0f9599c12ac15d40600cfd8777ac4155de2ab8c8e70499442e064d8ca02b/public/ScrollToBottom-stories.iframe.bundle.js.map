{"version":3,"file":"ScrollToBottom-stories.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC5BA;AAAA;AAOA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC7EA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AAOA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAGA;AACA;;;;;;;;;;;;;;;;ACtDA;AAEA;AAIA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA","sources":["webpack://@chatse/design-system/./components/Card/styles.module.css","webpack://@chatse/design-system/./components/Card/index.tsx","webpack://@chatse/design-system/./components/Card/styles.module.css?a372","webpack://@chatse/design-system/./components/ScrollToBottom/index.tsx","webpack://@chatse/design-system/./components/ScrollToBottom/stories.tsx","webpack://@chatse/design-system/./components/ScrollToBottom/use-scroll-to-bottom/index.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.Ww6eOEFPBeSvsluiwe4t {\n  width: 100%;\n  border-radius: 6px;\n  border-width: 1px;\n  border-style: solid;\n  padding-inline: var(--rp-space-300);\n  padding-block: var(--rp-space-300);\n}\n\n\n.RyuTacClWJticmUGWRxA {\n  border-color: var(--rp-color-border);\n}\n\n.ff8vkL32etSvoSOPIoR4 {\n  border-color: var(--rp-color-danger);\n  background-color: var(--rp-color-red-300);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./components/Card/styles.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,mBAAmB;EACnB,mCAAmC;EACnC,kCAAkC;AACpC;;;AAGA;EACE,oCAAoC;AACtC;;AAEA;EACE,oCAAoC;EACpC,yCAAyC;AAC3C\",\"sourcesContent\":[\".root {\\n  width: 100%;\\n  border-radius: 6px;\\n  border-width: 1px;\\n  border-style: solid;\\n  padding-inline: var(--rp-space-300);\\n  padding-block: var(--rp-space-300);\\n}\\n\\n\\n.appearance-neutral {\\n  border-color: var(--rp-color-border);\\n}\\n\\n.appearance-red {\\n  border-color: var(--rp-color-danger);\\n  background-color: var(--rp-color-red-300);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"root\": `Ww6eOEFPBeSvsluiwe4t`,\n\t\"appearance-neutral\": `RyuTacClWJticmUGWRxA`,\n\t\"appearance-red\": `ff8vkL32etSvoSOPIoR4`\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import { ReactNode } from 'react'\n\nimport styles from './styles.module.css'\n\ninterface CardProps {\n  children: ReactNode\n  appearance?: 'neutral' | 'red'\n}\n\nconst appearanceMap = {\n  neutral: styles['appearance-neutral'],\n  red: styles['appearance-red'],\n}\n\nexport const Card = ({ appearance = 'neutral', children }: CardProps) => {\n  return <div className={`${styles.root} ${appearanceMap[appearance]}`}>{children}</div>\n}\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./styles.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n  var p;\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (!a[p]) {\n      return false;\n    }\n  }\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./styles.module.css\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./styles.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { LegacyRef } from 'react'\n\nimport { useScrollToBottom } from './use-scroll-to-bottom'\n\nexport const ScrollTo = React.forwardRef((props, ref: LegacyRef<HTMLDivElement>) => {\n  return <div ref={ref}></div>\n})\n\nexport { useScrollToBottom }\n","import type { Meta, StoryObj } from '@storybook/react-webpack5'\n\nimport { Button } from '../Button'\nimport { Card } from '../Card'\nimport { List, ListItem } from '../List'\nimport {\n  ScrollContainer,\n  ScrollContainerBody,\n  ScrollContainerFooter,\n  ScrollContainerHeader,\n} from '../ScrollContainer'\n\nimport { ScrollTo, useScrollToBottom } from './index'\n\nconst meta = {\n  title: 'Components/ScrollToBottom',\n  component: ScrollTo,\n  parameters: {\n    layout: 'centered',\n  },\n  tags: ['autodocs'],\n  args: {},\n} satisfies Meta<typeof ScrollTo>\n\nexport default meta\ntype Story = StoryObj<typeof meta>\n\nexport const Default: Story = {\n  render() {\n    const { scrollRef, scrollToBottom } = useScrollToBottom()\n    // TODO target correct scrollable element in storybook\n    return (\n      <Card>\n        <div style={{ height: '400px' }}>\n          <ScrollContainer>\n            <ScrollContainerHeader>\n              <Button onClick={() => scrollToBottom()}>Click to scroll</Button>\n            </ScrollContainerHeader>\n            <ScrollContainerBody>\n              <List>\n                {new Array(70).fill('').map((_, idx) => (\n                  <ListItem key={idx}>Item {idx}</ListItem>\n                ))}\n                <ListItem>\n                  <ScrollTo ref={scrollRef} />\n                </ListItem>\n              </List>\n            </ScrollContainerBody>\n            <ScrollContainerFooter>ScrollContainerFooter</ScrollContainerFooter>\n          </ScrollContainer>\n        </div>\n      </Card>\n    )\n  },\n}\n","import { MutableRefObject, useEffect, useRef, useState } from 'react'\n\nexport const useScrollToBottom = (): {\n  scrollRef: MutableRefObject<HTMLDivElement | null>\n  scrollToBottom: () => void\n} => {\n  const scrollRef = useRef<HTMLDivElement | null>(null)\n  const [shouldScroll, setShouldScroll] = useState(true)\n\n  const scrollToBottom = () => {\n    if (shouldScroll && scrollRef.current) {\n      scrollRef.current.scrollIntoView({ behavior: 'instant' })\n    }\n  }\n\n  useEffect(() => {\n    const el = scrollRef.current\n    if (!el) return\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        setShouldScroll(entry.isIntersecting)\n      },\n      {\n        root: null,\n        threshold: 0.1,\n      }\n    )\n\n    observer.observe(el)\n\n    return () => observer.disconnect()\n  }, [])\n\n  return { scrollRef, scrollToBottom }\n}\n"],"names":[],"sourceRoot":""}